# ============================================================
# Slack-Claude Code multi-session integration system config
# ============================================================
# Usage:
#   1. Copy this file to .env:  cp .env.example .env
#   2. Fill in the values below for your environment
#   3. Start Bot service:  npm run start:bot
# ============================================================

# -----------------------------------------------------------
# [Required] Slack connection
# -----------------------------------------------------------
# Tokens from Slack App creation
# How to get: https://api.slack.com/apps -> Create App -> OAuth & Permissions
SLACK_BOT_TOKEN=xoxb-your-bot-token-here
SLACK_APP_TOKEN=xapp-your-app-token-here
SLACK_SIGNING_SECRET=your-signing-secret-here

# Slack channel ID for notifications
# How to find: Right-click channel in Slack -> "Channel details" -> ID at bottom
SLACK_CHANNEL_ID=C0123456789

# -----------------------------------------------------------
# [Required] Security
# -----------------------------------------------------------
# Allowed Slack user IDs (comma-separated)
# How to find: Click profile in Slack -> ... -> "Copy member ID"
ALLOWED_USER_IDS=U0123ABC

# Allowed Slack channel IDs (comma-separated, empty = all channels allowed)
ALLOWED_CHANNEL_IDS=C0123456789

# -----------------------------------------------------------
# [Optional] Working directory
# -----------------------------------------------------------
# Default working directory for Claude Code
CLAUDE_WORKING_DIR=/path/to/your/project

# State file storage path (default: ./state)
STATE_DIR=./state

# -----------------------------------------------------------
# [Optional] Security filters
# -----------------------------------------------------------
# Blocked dangerous commands (comma-separated)
# Prompts containing these strings will be rejected
BLOCKED_COMMANDS=rm -rf,format,del /f,DROP TABLE,DROP DATABASE

# Commands requiring confirmation (comma-separated)
# Prompts containing these strings require extra confirmation in Slack
CONFIRM_COMMANDS=git push,git reset,database migration,delete,remove

# Max prompt length for remote execution (default: 2000)
MAX_PROMPT_LENGTH=2000

# -----------------------------------------------------------
# [Optional] Session management
# -----------------------------------------------------------
# Max concurrent active sessions (default: 10)
MAX_ACTIVE_SESSIONS=10

# Session timeout in ms (default: 3600000 = 1 hour)
SESSION_TIMEOUT_MS=3600000

# Heartbeat interval in ms (default: 30000 = 30s)
HEARTBEAT_INTERVAL_MS=30000

# Stale session cleanup threshold in ms (default: 300000 = 5min)
STALE_SESSION_MS=300000

# -----------------------------------------------------------
# [Optional] Polling
# -----------------------------------------------------------
# Bot service session directory scan interval in ms (default: 2000 = 2s)
POLL_INTERVAL_MS=2000

# -----------------------------------------------------------
# [Optional] Execution queue
# -----------------------------------------------------------
# Max concurrent executions (default: 1)
MAX_CONCURRENT_EXECUTIONS=1

# Max queue size (default: 5)
MAX_QUEUE_SIZE=5

# Execution timeout in ms (default: 600000 = 10min)
EXECUTION_TIMEOUT_MS=600000

# -----------------------------------------------------------
# [Optional] Logging
# -----------------------------------------------------------
# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info
